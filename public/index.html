<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HappyPages</title>
  <link rel="stylesheet" href="/styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Hanken+Grotesk:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&display=swap" rel="stylesheet">
</head>
<body>
  <div class="hero">
    <div class="container hero-container">
      <div class="hero-content">
        <div class="hero__left">
          <div class="hero-top">
            <img src="/assets/happypages-logo-black.svg" alt="HappyPages" class="logo">
            <div class="hero-buttons">
              <button class="btn btn-light"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg> book a call</button>
              <button class="btn btn-coral">see pricing</button>
            </div>
          </div>
          <h1>a growth design & dev subscription <span class="serif-italic">for d2c founders.</span></h1>
          <h3 class="subheading">pause or cancel anytime.</h3>
        </div>
        <div class="hero__right">
          <div class="card-stack">
            <div class="card-back"></div>
            <div class="neumorphic-card">
              <div class="card-header">
                <div class="animated-bars">
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                </div>
                <span class="pill-button">
                  <span class="pill-dot"></span>
                  start today
                </span>
              </div>
            <h2 class="card-heading">join<br>happypages.</h2>
            <p class="card-tagline">ongoing conversion and growth optimisation for leaders who need to accelerate.</p>
            <button class="cta-button">see pricing</button>
            <div class="book-call">
              <div class="book-call-left">
                <img src="/assets/happypages-icon-black.svg" alt="HappyPages" class="avatar-icon">
                <div class="book-call-text">
                  <span class="book-call-title">book a 15-min intro call</span>
                  <span class="book-call-link">schedule now</span>
                </div>
              </div>
              <button class="arrow-button" aria-label="Book a call">
                <span aria-hidden="true">→</span>
              </button>
            </div>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <section class="how-it-works-section">
    <!-- Floating Icons Animation -->
    <div class="floating-icons-container" aria-hidden="true">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
      <img src="/assets/happypages-icon-white.svg" class="floating-icon" alt="">
    </div>
    <div class="container">
      <h4 class="section-label">how it works.</h4>
      <h2 class="section-heading">design & dev how <span class="serif-italic">you<br>wanted it</span> in the first place.</h2>

      <div class="how-it-works-cards">
        <div class="step-card-stack">
          <div class="step-card-back"></div>
          <div class="step-card step-card--coral">
            <div class="step-card__image">
              <div class="pattern pattern--coral"></div>
            </div>
            <div class="step-card__content">
              <h3 class="step-card__title">subscribe.</h3>
              <p class="step-card__description">subscribe to a plan & request as many designs as you like.</p>
            </div>
          </div>
        </div>

        <div class="step-card-stack">
          <div class="step-card-back"></div>
          <div class="step-card step-card--green">
            <div class="step-card__image">
              <div class="pattern pattern--green"></div>
            </div>
            <div class="step-card__content">
              <h3 class="step-card__title">request.</h3>
              <p class="step-card__description">ask for whatever you like, from landing pages to flows.</p>
            </div>
          </div>
        </div>

        <div class="step-card-stack">
          <div class="step-card-back"></div>
          <div class="step-card step-card--blue">
            <div class="step-card__image">
              <div class="pattern pattern--blue"></div>
            </div>
            <div class="step-card__content">
              <h3 class="step-card__title">receive.</h3>
              <p class="step-card__description">get your work shipped in days on average, not weeks (or...months).</p>
            </div>
          </div>
        </div>
      </div>

      <p class="client-subtitle">founded on principles from more than a decade leading growth product and design teams at fast scaling d2c startups.</p>
      <div class="client-logos">
        <img src="/assets/gousto-logo.png" alt="Gousto" class="client-logo">
        <img src="/assets/butternutboxlogo.webp" alt="Butternut Box" class="client-logo">
        <img src="/assets/Field_Doctor_Logo_Single_Black.webp" alt="Field Doctor" class="client-logo">
      </div>
    </div>
  </section>

  <section class="member-benefits-section">
    <div class="container">
      <h4 class="section-label">membership benefits.</h4>
      <h2 class="section-heading">it's <span class="serif-italic">'wow, how did we<br>survive before'</span> better.</h2>
      <p class="section-subheading">happypages design & dev replaces unreliable freelancers and mega-expensive agencies for one flat monthly fee, with work shipped so fast you wont want to go anywhere else.</p>

      <div class="benefits-carousel">
        <div class="benefits-track">
          <div class="benefit-item">
            <div class="benefit-card-stack">
              <div class="benefit-card-back"></div>
              <div class="benefit-card">
                <div class="benefit-pattern benefit-pattern--cards">
                  <div class="mini-card"></div>
                  <div class="mini-card"></div>
                  <div class="mini-card"></div>
                  <div class="mini-card"></div>
                </div>
              </div>
            </div>
            <h3 class="benefit-title">design board.</h3>
            <p class="benefit-description">easily manage your design queue with a kanban board.</p>
          </div>

          <div class="benefit-item">
            <div class="benefit-card-stack">
              <div class="benefit-card-back"></div>
              <div class="benefit-card">
                <div class="benefit-pattern benefit-pattern--bars">
                  <div class="bar-blob"></div>
                  <div class="bar-blob"></div>
                  <div class="bar-blob"></div>
                </div>
              </div>
            </div>
            <h3 class="benefit-title">fixed monthly rate.</h3>
            <p class="benefit-description">no surprises here! pay the same fixed price each month.</p>
          </div>

          <div class="benefit-item">
            <div class="benefit-card-stack">
              <div class="benefit-card-back"></div>
              <div class="benefit-card">
                <div class="benefit-pattern benefit-pattern--streaks"></div>
              </div>
            </div>
            <h3 class="benefit-title">fast delivery.</h3>
            <p class="benefit-description">get your design one at a time in just a couple days on average.</p>
          </div>

          <div class="benefit-item">
            <div class="benefit-card-stack">
              <div class="benefit-card-back"></div>
              <div class="benefit-card">
                <div class="benefit-pattern benefit-pattern--star"></div>
              </div>
            </div>
            <h3 class="benefit-title">top-notch quality.</h3>
            <p class="benefit-description">senior-level design quality at your fingertips, whenever you need it.</p>
          </div>

          <div class="benefit-item">
            <div class="benefit-card-stack">
              <div class="benefit-card-back"></div>
              <div class="benefit-card">
                <div class="benefit-pattern benefit-pattern--scale"></div>
              </div>
            </div>
            <h3 class="benefit-title">flexible and scalable.</h3>
            <p class="benefit-description">scale up or down as needed, and pause or cancel at anytime.</p>
          </div>
        </div>

        <div class="carousel-nav">
          <button class="carousel-btn carousel-btn--prev" aria-label="Previous">←</button>
          <button class="carousel-btn carousel-btn--next" aria-label="Next">→</button>
        </div>
      </div>
    </div>
  </section>

  <section class="works-section" id="works">
    <div class="container">
      <div class="works-cards">
        <!-- Left Card (larger) - Card Deck Carousel -->
        <div class="works-card-left">
          <div class="works-deck-container">
            <div class="works-deck">
              <!-- Card 3 (back) - Cyan -->
              <div class="works-deck-card" data-index="2" data-position="2">
                <div class="works-deck-card-back"></div>
                <div class="works-deck-card-front">
                  <div class="works-deck-card__image">
                    <div class="works-pattern works-pattern--cyan"></div>
                  </div>
                  <div class="works-deck-card__content">
                    <h3 class="works-deck-card__title">email flows.</h3>
                    <p class="works-deck-card__description">conversion-focused email sequences.</p>
                  </div>
                </div>
              </div>

              <!-- Card 2 (middle) - Blue -->
              <div class="works-deck-card" data-index="1" data-position="1">
                <div class="works-deck-card-back"></div>
                <div class="works-deck-card-front">
                  <div class="works-deck-card__image">
                    <div class="works-pattern works-pattern--blue"></div>
                  </div>
                  <div class="works-deck-card__content">
                    <h3 class="works-deck-card__title">user flows.</h3>
                    <p class="works-deck-card__description">seamless checkout and onboarding experiences.</p>
                  </div>
                </div>
              </div>

              <!-- Card 1 (front) - Coral -->
              <div class="works-deck-card" data-index="0" data-position="0">
                <div class="works-deck-card-back"></div>
                <div class="works-deck-card-front">
                  <div class="works-deck-card__image">
                    <div class="works-pattern works-pattern--coral"></div>
                  </div>
                  <div class="works-deck-card__content">
                    <h3 class="works-deck-card__title">landing pages.</h3>
                    <p class="works-deck-card__description">high-converting pages that drive growth.</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Carousel controls -->
            <div class="works-deck-nav">
              <button class="carousel-btn works-deck-btn--prev" aria-label="Previous">←</button>
              <button class="carousel-btn works-deck-btn--next" aria-label="Next">→</button>
            </div>
          </div>
        </div>

        <!-- Right Card (smaller) - Text Content -->
        <div class="works-card-right">
          <div class="card-stack">
            <div class="card-back"></div>
            <div class="neumorphic-card works-text-card">
              <h3 class="works-text-title">pages, flows, emails and more.</h3>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="pricing-section" id="pricing">
    <div class="container">
      <h4 class="section-label">pricing.</h4>
      <h2 class="section-heading">two subscriptions,<br><span class="serif-italic">endless opportunities.</span></h2>

      <div class="pricing-cards">
        <!-- Left Card -->
        <div class="pricing-card-left">
          <div class="card-stack">
            <div class="card-back"></div>
            <div class="neumorphic-card pricing-card-light">
              <div class="card-header pricing-header-large">
                <div class="animated-bars pricing-bars">
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                  <div class="bar"></div>
                </div>
              </div>
              <span class="pill-button">
                <span class="pill-dot"></span>
                start today
              </span>
              <h3 class="pricing-card-title">join<br>happypages.</h3>
              <p class="pricing-card-subtitle">ongoing conversion and growth optimisation for leaders who need to accelerate.</p>
            </div>
          </div>
        </div>

        <!-- Right Card (dark) -->
        <div class="pricing-card-right">
          <div class="card-stack">
            <div class="card-back card-back--dark"></div>
            <div class="neumorphic-card pricing-card-dark">
              <div class="pricing-toggle">
                <span class="pricing-toggle-label">basic</span>
                <label class="toggle-switch">
                  <input type="checkbox" class="toggle-input">
                  <span class="toggle-track">
                    <span class="toggle-knob"></span>
                    <span class="toggle-indicator"></span>
                  </span>
                </label>
                <span class="pricing-toggle-label">pro</span>
              </div>
              <h4 class="pricing-tier-label">monthly club</h4>
              <div class="pricing-amount">
                <span class="pricing-price">£1095</span>
                <span class="pricing-period">/month</span>
              </div>
              <div class="pricing-divider"></div>
              <ul class="pricing-features">
                <li>one request at a time</li>
                <li>avg. 48 hour delivery</li>
                <li>unlimited brands</li>
                <li>static page development</li>
                <li>1 user</li>
              </ul>
              <div class="pricing-divider"></div>
              <div class="pricing-cta-row">
                <button class="pricing-cta">
                  <img src="/assets/happypages-icon-black.svg" alt="" class="pricing-cta-icon">
                  join today
                </button>
                <h4 class="pricing-flex-text">pause, cancel, or flex subscription tier anytime.</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Intersection Observer for card animation
    const cards = document.querySelector('.how-it-works-cards');
    if (cards) {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting && entry.intersectionRatio >= 0.5) {
            entry.target.classList.add('is-visible');
          } else if (entry.intersectionRatio < 0.5) {
            entry.target.classList.remove('is-visible');
          }
        });
      }, { threshold: [0.5, 1.0] });
      observer.observe(cards);
    }

    // Pause looping animations when off-screen
    const animatedElements = document.querySelectorAll('.card-header, .benefit-card, .pricing-header-large');
    if (animatedElements.length > 0) {
      const animationObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          entry.target.classList.toggle('is-animating', entry.isIntersecting);
        });
      });
      animatedElements.forEach(el => animationObserver.observe(el));
    }

    // Floating icons animation - always running when page is visible
    const floatingContainer = document.querySelector('.floating-icons-container');
    if (floatingContainer) {
      floatingContainer.classList.add('is-animating');
    }

    // Benefits carousel navigation
    const track = document.querySelector('.benefits-track');
    const prevBtn = document.querySelector('.carousel-btn--prev');
    const nextBtn = document.querySelector('.carousel-btn--next');

    if (track && prevBtn && nextBtn) {
      const cardWidth = 200 + 24; // card width + gap
      const backCardOffset = 100; // extra space for back card and full visibility
      let position = 0;

      const getMaxScroll = () => {
        return Math.max(0, track.scrollWidth - track.parentElement.offsetWidth + backCardOffset);
      };

      const updateButtons = () => {
        const maxScroll = getMaxScroll();
        prevBtn.style.opacity = position <= 0 ? '0.4' : '1';
        nextBtn.style.opacity = position >= maxScroll ? '0.4' : '1';
      };

      updateButtons();

      nextBtn.addEventListener('click', () => {
        const maxScroll = getMaxScroll();
        position = Math.min(position + cardWidth, maxScroll);
        track.style.transform = `translateX(-${position}px)`;
        updateButtons();
      });

      prevBtn.addEventListener('click', () => {
        position = Math.max(position - cardWidth, 0);
        track.style.transform = `translateX(-${position}px)`;
        updateButtons();
      });
    }

    // Works deck shuffle carousel
    const worksDeck = document.querySelector('.works-deck');
    const worksDeckCards = document.querySelectorAll('.works-deck-card');
    const worksPrevBtn = document.querySelector('.works-deck-btn--prev');
    const worksNextBtn = document.querySelector('.works-deck-btn--next');

    if (worksDeck && worksDeckCards.length && worksPrevBtn && worksNextBtn) {
      let currentOrder = [0, 1, 2]; // Tracks which card index is at which position
      let isAnimating = false;

      // Update positions based on current order
      function updatePositions() {
        worksDeckCards.forEach(card => {
          const cardIndex = parseInt(card.getAttribute('data-index'));
          const position = currentOrder.indexOf(cardIndex);
          card.setAttribute('data-position', position);
        });
      }

      // Shuffle to next card (front card exits left)
      function shuffleNext() {
        if (isAnimating) return;
        isAnimating = true;

        const frontCardIndex = currentOrder[0];
        const frontCard = document.querySelector(`.works-deck-card[data-index="${frontCardIndex}"]`);

        // Add shuffle class
        worksDeck.classList.add('is-shuffling');
        frontCard.classList.add('shuffling-out');

        // At 40% (320ms) - card has exited, add returning class to lower z-index
        setTimeout(() => {
          frontCard.classList.add('returning');
          // Move front card to back
          currentOrder.push(currentOrder.shift());
          updatePositions();
        }, 320);

        // Clean up after animation (800ms total)
        setTimeout(() => {
          frontCard.classList.remove('shuffling-out', 'returning');
          worksDeck.classList.remove('is-shuffling');
          isAnimating = false;
        }, 800);
      }

      // Shuffle to previous card (back card comes to front)
      function shufflePrev() {
        if (isAnimating) return;
        isAnimating = true;

        // Get the back card (will become front)
        const backCardIndex = currentOrder[2];
        const backCard = document.querySelector(`.works-deck-card[data-index="${backCardIndex}"]`);

        worksDeck.classList.add('is-shuffling');
        backCard.classList.add('shuffling-in');

        // At 40% (320ms) - card is out, add arriving class for high z-index
        setTimeout(() => {
          backCard.classList.add('arriving');
          // Move back card to front
          currentOrder.unshift(currentOrder.pop());
          updatePositions();
        }, 320);

        // Clean up after animation (800ms total)
        setTimeout(() => {
          backCard.classList.remove('shuffling-in', 'arriving');
          worksDeck.classList.remove('is-shuffling');
          isAnimating = false;
        }, 800);
      }

      worksNextBtn.addEventListener('click', shuffleNext);
      worksPrevBtn.addEventListener('click', shufflePrev);
    }

    // Pricing toggle - switch between basic and pro tiers
    const pricingToggle = document.querySelector('.toggle-input');
    const tierLabel = document.querySelector('.pricing-tier-label');
    const priceEl = document.querySelector('.pricing-price');
    const featuresEl = document.querySelector('.pricing-features');

    if (pricingToggle && tierLabel && priceEl && featuresEl) {
      const basicContent = {
        title: 'monthly club',
        price: '£1095',
        features: [
          'one request at a time',
          'avg. 48 hour delivery',
          'unlimited brands',
          'static page development',
          '1 user'
        ]
      };

      const proContent = {
        title: 'monthly club pro',
        price: '£2995',
        features: [
          'one request at a time',
          'avg. 48 hour delivery',
          'unlimited brands',
          'page and flow development',
          '2 users',
          'unlimited stock photos',
          '2hr strategy session each month',
          'priority support'
        ]
      };

      // Typing animation for changed text
      function typeText(element, text, isChanged, speed = 20, callback) {
        if (!isChanged) {
          element.textContent = text;
          if (callback) callback();
          return;
        }
        element.textContent = '';
        element.classList.add('typing-highlight');
        let i = 0;
        function type() {
          if (i < text.length) {
            element.textContent += text.charAt(i);
            i++;
            setTimeout(type, speed);
          } else if (callback) {
            callback();
          }
        }
        type();
      }

      pricingToggle.addEventListener('change', () => {
        const isPro = pricingToggle.checked;
        const content = isPro ? proContent : basicContent;
        const prevContent = isPro ? basicContent : proContent;

        // Toggle label highlight and card state
        document.querySelector('.pricing-toggle').classList.toggle('is-pro', isPro);
        document.querySelector('.pricing-card-dark').classList.toggle('pricing-pro', isPro);

        // Update CTA button text
        const ctaBtn = document.querySelector('.pricing-cta');
        ctaBtn.innerHTML = isPro
          ? '<img src="/assets/happypages-icon-black.svg" alt="" class="pricing-cta-icon">join pro today'
          : '<img src="/assets/happypages-icon-black.svg" alt="" class="pricing-cta-icon">join today';

        // Update title - type if changed
        const titleChanged = content.title !== prevContent.title;
        if (titleChanged) {
          // For "monthly club" vs "monthly club pro", show base + type the diff
          if (isPro) {
            tierLabel.innerHTML = 'monthly club <span class="typing-highlight"></span>';
            const proSpan = tierLabel.querySelector('.typing-highlight');
            typeText(proSpan, 'pro', true);
          } else {
            tierLabel.textContent = content.title;
            tierLabel.classList.remove('typing-highlight');
          }
        }

        // Update price - always type the price (200ms per char)
        priceEl.textContent = '';
        typeText(priceEl, content.price, true, 100);

        // Update features - only highlight when switching to pro
        const featureItems = content.features.map((f, i) => {
          const isNew = i >= prevContent.features.length;
          const isChanged = !isNew && f !== prevContent.features[i];
          return { text: f, highlight: isPro && (isNew || isChanged) };
        });

        featuresEl.innerHTML = featureItems.map(f =>
          `<li${f.highlight ? ' class="typing-highlight"' : ''}></li>`
        ).join('');

        const lis = featuresEl.querySelectorAll('li');
        let delay = 0;
        featureItems.forEach((f, i) => {
          setTimeout(() => {
            if (f.highlight) {
              typeText(lis[i], f.text, true);
            } else {
              lis[i].textContent = f.text;
            }
          }, delay);
          delay += f.highlight ? 50 : 0;
        });
      });
    }

    // Smooth scroll to pricing section
    document.querySelectorAll('.btn-coral, .cta-button').forEach(btn => {
      if (btn.textContent.trim() === 'see pricing') {
        btn.addEventListener('click', () => {
          document.getElementById('pricing').scrollIntoView({ behavior: 'smooth' });
        });
      }
    });
  </script>
</body>
</html>
