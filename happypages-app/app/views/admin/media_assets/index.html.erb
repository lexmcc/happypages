<div class="min-h-screen bg-[#f9f9f9] py-8" data-controller="media-library">
  <div class="max-w-5xl mx-auto px-4 sm:px-6">
    <header class="mb-8">
      <h1 class="text-3xl font-bold text-gray-900">Media</h1>
      <p class="text-gray-600 mt-2">Upload and manage images for your referral page and thank-you card</p>
    </header>

    <%# Upload zone %>
    <div
      data-media-library-target="dropzone"
      data-action="dragover->media-library#dragOver dragenter->media-library#dragEnter dragleave->media-library#dragLeave drop->media-library#drop click->media-library#openFilePicker"
      class="relative mb-8 border-2 border-dashed border-black/15 rounded-xl p-8 text-center cursor-pointer transition-colors hover:border-[#ff584d]/40 hover:bg-[#ff584d]/5"
    >
      <input
        type="file"
        accept="image/jpeg,image/png,image/webp,image/gif"
        data-media-library-target="fileInput"
        data-action="change->media-library#handleFileSelect"
        class="hidden"
      >

      <svg class="mx-auto size-10 text-gray-400 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
      </svg>
      <p class="text-sm font-medium text-gray-700">Drop an image here or click to browse</p>
      <p class="text-xs text-gray-400 mt-1">JPEG, PNG, WebP or GIF &middot; max 10 MB</p>
      <p class="text-xs text-gray-400 mt-0.5">Recommended: at least 1200&times;400 px for referral banners, 600&times;400 px for checkout card banners</p>

      <%# Upload progress %>
      <div data-media-library-target="progress" class="hidden mt-4">
        <div class="w-48 mx-auto bg-gray-200 rounded-full h-1.5">
          <div data-media-library-target="progressBar" class="bg-[#ff584d] h-1.5 rounded-full transition-all duration-200" style="width: 0%"></div>
        </div>
        <p data-media-library-target="progressText" class="text-xs text-gray-500 mt-1">Uploading...</p>
      </div>
    </div>

    <%# Error display %>
    <div data-media-library-target="error" class="hidden mb-6 px-4 py-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700"></div>

    <%# Grid %>
    <div
      data-media-library-target="grid"
      class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4"
    >
      <%# Populated by Stimulus controller %>
    </div>

    <%# Empty state %>
    <div data-media-library-target="empty" class="hidden text-center py-16">
      <svg class="mx-auto size-12 text-gray-300 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909M2.25 18.75h19.5M2.25 4.5h19.5v11.25a2.25 2.25 0 01-2.25 2.25H4.5a2.25 2.25 0 01-2.25-2.25V4.5z" />
      </svg>
      <p class="text-gray-500 font-medium">No images yet</p>
      <p class="text-gray-400 text-sm mt-1">Upload your first image to get started</p>
    </div>
  </div>
</div>
